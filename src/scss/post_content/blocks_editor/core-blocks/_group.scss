.editor-styles-wrapper {
    // .wp-block-group {}

    // 5.4 ~ 全幅などの時、div が挟まってきて上下マージンが謎に -32pxされるのを防ぐ。
    // div.is-block-contentで包まれるのでそれを検出して margin を相殺。
    [data-type="core/group"] > div > .wp-block-group.has-background > .wp-block-group__inner-container > .block-editor-inner-blocks {
        margin-top: 0;
        margin-bottom: 0;
    }

    // 5.4 ~
    [data-type="core/group"] {

        .wp-block-group {
            padding: 24px 16px;

            &.has-background {
                padding: 2em;
            }

        }

        // 最初・最後のブロックのマージン削除
        .wp-block-group__inner-container > .block-editor-inner-blocks > .block-editor-block-list__layout {

            & > .block-list-appender {
                margin-top: -14px;
                margin-bottom: -14px;
            }

            & > .wp-block:first-child {
                margin-top: 0 !important;

                & > * {
                    margin-top: 0 !important;
                }
            }

            & > .wp-block:last-child {
                margin-bottom: 0 !important;

                & > * {
                    margin-bottom: 0 !important;
                }
            }
        }



        // フォーカスされていない時にもガイド線つける
        &:not(.is-selected)::before {
            border: 1px dashed rgba(123, 134, 162, .3);
        }
    }
}

.block-editor-block-preview__content {

    .wp-block-group {

        [data-type="core/paragraph"]:not(:first-child) {
            display: none;
        }
    }
}
